'use strict';(function(){Polymer({is:'sd-keen-vis',properties:{counterValue:{type:Number,value:0,notify:true},project:{type:String},readKey:{type:String},collection:{type:String},analysisType:{type:String},timeframe:{type:String},interval:{type:String}},observers:['_initClient(project, key)','_updateQuery(collection, analysisType)'],created:function created(){this.config={}},ready:function ready(){Keen.ready(function(){console.log('Keen ready.');this._initClient()}.bind(this))},attached:function attached(){this._updateQuery()},_initClient:function _initClient(){console.log('initClient');this.client=new Keen({projectId:this.project,readKey:this.readKey})},_updateQuery:function _updateQuery(){if(this.client){this.query=new Keen.Query(this.analysisType,{event_collection:this.collection,timeframe:this.timeframe,interval:this.interval});console.log(this.query);this._runQuery()}},_runQuery:function _runQuery(){if(this.client){this.client.run(this.query,function(err,res){if(err){console.log('Stupid error.');console.log(err)}else{console.log(res)}})}},handleClick:function handleClick(event,detail,sender){this.increment()},increment:function increment(){this.counterValue++}})})();
//# sourceMappingURL=sd-keen-vis.js.map
